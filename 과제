//1ï¸âƒ£ í”„ë¡œì íŠ¸ êµ¬ì¡° (ì˜ˆì‹œ)
sbb2-main/
â”œâ”€ src/main/java/com/sbb2/
â”‚  â”œâ”€ controller/
â”‚  â”‚    â”œâ”€ MemberController.java
â”‚  â”‚    â””â”€ ResumeController.java
â”‚  â”œâ”€ model/
â”‚  â”‚    â”œâ”€ Member.java
â”‚  â”‚    â””â”€ Resume.java
â”‚  â”œâ”€ repository/
â”‚  â”‚    â”œâ”€ MemberRepository.java
â”‚  â”‚    â””â”€ ResumeRepository.java
â”‚  â””â”€ service/
â”‚       â”œâ”€ MemberService.java
â”‚       â””â”€ ResumeService.java
â”œâ”€ src/main/resources/templates/
â”‚    â”œâ”€ login.html
â”‚    â”œâ”€ register.html
â”‚    â”œâ”€ resume_form.html
â”‚    â””â”€ resume_list.html
â””â”€ src/main/resources/application.properties

//2ï¸âƒ£ í•µì‹¬ ì½”ë“œ ì˜ˆì‹œ
1. Member.java (íšŒì› ëª¨ë¸)
package com.sbb2.model;

public class Member {
    private String id;
    private String password;
    private String name;

    // ìƒì„±ì, getter/setter
}

2.Resume.java (ìì†Œì„œ ëª¨ë¸)
package com.sbb2.model;

public class Resume {
    private String memberId;
    private String title;
    private String content;

    // ìƒì„±ì, getter/setter
}
3.MemberController.java (íšŒì› ê´€ë ¨)
package com.sbb2.controller;

import com.sbb2.model.Member;
import com.sbb2.service.MemberService;

import java.util.HashMap;
import java.util.Map;

public class MemberController {
    private MemberService service = new MemberService();
    private Map<String, Member> session = new HashMap<>();

    public String register(String id, String pw, String name) {
        if(service.register(new Member(id, pw, name))) {
            return "íšŒì›ê°€ì… ì„±ê³µ";
        }
        return "íšŒì›ê°€ì… ì‹¤íŒ¨";
    }

    public String login(String id, String pw) {
        Member m = service.login(id, pw);
        if(m != null) {
            session.put("loginUser", m);
            return "ë¡œê·¸ì¸ ì„±ê³µ";
        }
        return "ë¡œê·¸ì¸ ì‹¤íŒ¨";
    }
}
4.ResumeController.java (ìì†Œì„œ ì œì¶œ)
package com.sbb2.controller;

import com.sbb2.model.Resume;
import com.sbb2.service.ResumeService;

import java.util.List;

public class ResumeController {
    private ResumeService service = new ResumeService();

    public String submitResume(String memberId, String title, String content) {
        service.save(new Resume(memberId, title, content));
        return "ì œì¶œ ì™„ë£Œ";
    }

    public List<Resume> viewAll() {
        return service.getAll();
    }
}
3ï¸âƒ£ HTML ì˜ˆì‹œ
5. resume_form.html

<form action="/submit" method="post">
  <input type="text" name="title" placeholder="ì œëª©" required>
  <textarea name="content" placeholder="ìì†Œì„œ ë‚´ìš©" required></textarea>
  <button type="submit">ì œì¶œ</button>
</form>


6.resume_list.html
<h2>ì œì¶œëœ ìì†Œì„œ</h2>
<ul>
  <!-- ì„œë²„ì—ì„œ ë¶ˆëŸ¬ì˜¨ ìì†Œì„œ ë¦¬ìŠ¤íŠ¸ ë°˜ë³µ ì¶œë ¥ -->
</ul>

4ï¸âƒ£ ë™ì‘ íë¦„

íšŒì›ê°€ì… â†’ ë¡œê·¸ì¸

ë¡œê·¸ì¸ í›„ ìì†Œì„œ ì‘ì„± í˜ì´ì§€ ì ‘ê·¼ â†’ ì‘ì„± í›„ ì œì¶œ

ê´€ë¦¬ìëŠ” ì œì¶œëœ ìì†Œì„œ ë¦¬ìŠ¤íŠ¸ í™•ì¸ ê°€ëŠ¥

/â˜…
1ï¸âƒ£ í”„ë¡œì íŠ¸ êµ¬ì¡°
sbb2-resume/
â”œâ”€ src/main/java/com/sbb2/
â”‚  â”œâ”€ controller/
â”‚  â”‚    â”œâ”€ MemberController.java
â”‚  â”‚    â””â”€ ResumeController.java
â”‚  â”œâ”€ model/
â”‚  â”‚    â”œâ”€ Member.java
â”‚  â”‚    â””â”€ Resume.java
â”‚  â”œâ”€ repository/
â”‚  â”‚    â”œâ”€ MemberRepository.java
â”‚  â”‚    â””â”€ ResumeRepository.java
â”‚  â””â”€ service/
â”‚       â”œâ”€ MemberService.java
â”‚       â””â”€ ResumeService.java
â”œâ”€ src/main/resources/templates/
â”‚    â”œâ”€ login.html
â”‚    â”œâ”€ register.html
â”‚    â”œâ”€ resume_form.html
â”‚    â””â”€ resume_list.html
â”œâ”€ src/main/resources/application.properties
â””â”€ pom.xml

2ï¸âƒ£ Maven pom.xml (Spring Boot + Thymeleaf)
<project xmlns="http://maven.apache.org/POM/4.0.0" ...>
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.sbb2</groupId>
    <artifactId>sbb2-resume</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.3.0</version>
    </parent>

    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf</artifactId>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <dependency>
            <groupId>com.h2database</groupId>
            <artifactId>h2</artifactId>
            <scope>runtime</scope>
        </dependency>
    </dependencies>
</project>

3ï¸âƒ£ ëª¨ë¸ (JPA ì—”í‹°í‹°)
Member.java
package com.sbb2.model;

import jakarta.persistence.Entity;
import jakarta.persistence.Id;

@Entity
public class Member {
    @Id
    private String id;
    private String password;
    private String name;

    public Member() {}
    public Member(String id, String password, String name) {
        this.id = id;
        this.password = password;
        this.name = name;
    }

    // getter & setter
}

Resume.java
package com.sbb2.model;

import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.Id;

@Entity
public class Resume {
    @Id @GeneratedValue
    private Long id;
    private String memberId;
    private String title;
    private String content;

    public Resume() {}
    public Resume(String memberId, String title, String content) {
        this.memberId = memberId;
        this.title = title;
        this.content = content;
    }

    // getter & setter
}

4ï¸âƒ£ Repository
MemberRepository.java
package com.sbb2.repository;

import com.sbb2.model.Member;
import org.springframework.data.jpa.repository.JpaRepository;

public interface MemberRepository extends JpaRepository<Member, String> {
    Member findByIdAndPassword(String id, String password);
}

ResumeRepository.java
package com.sbb2.repository;

import com.sbb2.model.Resume;
import org.springframework.data.jpa.repository.JpaRepository;
import java.util.List;

public interface ResumeRepository extends JpaRepository<Resume, Long> {
    List<Resume> findByMemberId(String memberId);
}

5ï¸âƒ£ ì„œë¹„ìŠ¤
MemberService.java
package com.sbb2.service;

import com.sbb2.model.Member;
import com.sbb2.repository.MemberRepository;
import org.springframework.stereotype.Service;

@Service
public class MemberService {
    private final MemberRepository repo;

    public MemberService(MemberRepository repo) { this.repo = repo; }

    public boolean register(Member m) {
        if(repo.existsById(m.getId())) return false;
        repo.save(m);
        return true;
    }

    public Member login(String id, String pw) {
        return repo.findByIdAndPassword(id, pw);
    }
}

ResumeService.java
package com.sbb2.service;

import com.sbb2.model.Resume;
import com.sbb2.repository.ResumeRepository;
import org.springframework.stereotype.Service;
import java.util.List;

@Service
public class ResumeService {
    private final ResumeRepository repo;

    public ResumeService(ResumeRepository repo) { this.repo = repo; }

    public void save(Resume r) { repo.save(r); }

    public List<Resume> getAll() { return repo.findAll(); }

    public List<Resume> getByMember(String memberId) { return repo.findByMemberId(memberId); }
}

6ï¸âƒ£ ì»¨íŠ¸ë¡¤ëŸ¬
MemberController.java
package com.sbb2.controller;

import com.sbb2.model.Member;
import com.sbb2.service.MemberService;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;

import jakarta.servlet.http.HttpSession;

@Controller
public class MemberController {
    private final MemberService service;

    public MemberController(MemberService service) { this.service = service; }

    @GetMapping("/register")
    public String registerForm() { return "register"; }

    @PostMapping("/register")
    public String register(@RequestParam String id, @RequestParam String password,
                           @RequestParam String name, Model model) {
        if(service.register(new Member(id, password, name))) {
            return "redirect:/login";
        }
        model.addAttribute("msg","íšŒì›ê°€ì… ì‹¤íŒ¨: ì•„ì´ë”” ì¤‘ë³µ");
        return "register";
    }

    @GetMapping("/login")
    public String loginForm() { return "login"; }

    @PostMapping("/login")
    public String login(@RequestParam String id, @RequestParam String password,
                        HttpSession session, Model model) {
        Member m = service.login(id, password);
        if(m != null) {
            session.setAttribute("loginUser", m);
            return "redirect:/resume/form";
        }
        model.addAttribute("msg","ë¡œê·¸ì¸ ì‹¤íŒ¨");
        return "login";
    }

    @GetMapping("/logout")
    public String logout(HttpSession session) {
        session.invalidate();
        return "redirect:/login";
    }
}

ResumeController.java
package com.sbb2.controller;

import com.sbb2.model.Member;
import com.sbb2.model.Resume;
import com.sbb2.service.ResumeService;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;

import jakarta.servlet.http.HttpSession;
import java.util.List;

@Controller
@RequestMapping("/resume")
public class ResumeController {
    private final ResumeService service;

    public ResumeController(ResumeService service) { this.service = service; }

    @GetMapping("/form")
    public String form() { return "resume_form"; }

    @PostMapping("/submit")
    public String submit(@RequestParam String title, @RequestParam String content,
                         HttpSession session) {
        Member m = (Member) session.getAttribute("loginUser");
        if(m != null) {
            service.save(new Resume(m.getId(), title, content));
            return "redirect:/resume/list";
        }
        return "redirect:/login";
    }

    @GetMapping("/list")
    public String list(Model model) {
        List<Resume> resumes = service.getAll();
        model.addAttribute("resumes", resumes);
        return "resume_list";
    }
}

7ï¸âƒ£ ê°„ë‹¨ HTML (Thymeleaf)
register.html
<form th:action="@{/register}" method="post">
  <input type="text" name="id" placeholder="ì•„ì´ë””" required>
  <input type="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
  <input type="text" name="name" placeholder="ì´ë¦„" required>
  <button type="submit">íšŒì›ê°€ì…</button>
</form>
<p th:text="${msg}"></p>
<a th:href="@{/login}">ë¡œê·¸ì¸</a>

login.html
<form th:action="@{/login}" method="post">
  <input type="text" name="id" placeholder="ì•„ì´ë””" required>
  <input type="password" name="password" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
  <button type="submit">ë¡œê·¸ì¸</button>
</form>
<p th:text="${msg}"></p>
<a th:href="@{/register}">íšŒì›ê°€ì…</a>

resume_form.html
<form th:action="@{/resume/submit}" method="post">
  <input type="text" name="title" placeholder="ì œëª©" required>
  <textarea name="content" placeholder="ìì†Œì„œ ë‚´ìš©" required></textarea>
  <button type="submit">ì œì¶œ</button>
</form>
<a th:href="@{/resume/list}">ì œì¶œ ë¦¬ìŠ¤íŠ¸</a>
<a th:href="@{/logout}">ë¡œê·¸ì•„ì›ƒ</a>

resume_list.html
<h2>ì œì¶œëœ ìì†Œì„œ</h2>
<ul>
  <li th:each="r : ${resumes}">
    <strong th:text="${r.title}"></strong> - <span th:text="${r.memberId}"></span>
    <p th:text="${r.content}"></p>
  </li>
</ul>
<a th:href="@{/resume/form}">ìì†Œì„œ ì‘ì„±</a>
<a th:href="@{/logout}">ë¡œê·¸ì•„ì›ƒ</a>

8ï¸âƒ£ application.properties (H2 DB ì„¤ì •)
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update


ğŸ’¡ ì´ë ‡ê²Œ êµ¬ì„±í•˜ë©´:

íšŒì›ê°€ì… / ë¡œê·¸ì¸

ë¡œê·¸ì¸ í›„ ìì†Œì„œ ì‘ì„± & ì œì¶œ

ì œì¶œëœ ìì†Œì„œ ë¦¬ìŠ¤íŠ¸ í™•ì¸ ê°€ëŠ¥

H2 DB ì‚¬ìš© â†’ ë¡œì»¬ì—ì„œ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥

